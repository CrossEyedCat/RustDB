# –ë–∞–∑–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö RustBD

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö RustBD.

## üìã –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **–°—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –±–ª–æ–∫–∏** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö
2. **–ú–µ–Ω–µ–¥–∂–µ—Ä –±—É—Ñ–µ—Ä–æ–≤** - LRU –∫—ç—à —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è
3. **–°—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü** - Tuple, Schema, Row, Table
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π** - ALTER TABLE –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ storage/
‚îÇ   ‚îú‚îÄ‚îÄ page.rs          # –°—Ç—Ä—É–∫—Ç—É—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –º–µ–Ω–µ–¥–∂–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ block.rs         # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –±–ª–æ–∫–æ–≤ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä –±–ª–æ–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ tuple.rs         # –ö–æ—Ä—Ç–µ–∂–∏ –∏ —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü
‚îÇ   ‚îú‚îÄ‚îÄ row.rs           # –°—Ç—Ä–æ–∫–∏ –∏ —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îî‚îÄ‚îÄ schema_manager.rs # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π —Ç–∞–±–ª–∏—Ü
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îî‚îÄ‚îÄ buffer.rs        # –ú–µ–Ω–µ–¥–∂–µ—Ä –±—É—Ñ–µ—Ä–æ–≤ —Å LRU –∫—ç—à–µ–º
‚îî‚îÄ‚îÄ common/
    ‚îî‚îÄ‚îÄ types.rs         # –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
examples/
‚îî‚îÄ‚îÄ basic_structures.rs  # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –°—Ç—Ä–∞–Ω–∏—Ü—ã (Page)

**–§–∞–π–ª:** `src/storage/page.rs`

–°—Ç—Ä–∞–Ω–∏—Ü–∞ - —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–º 4KB.

#### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- **`PageHeader`** - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- **`Page`** - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ —Å–ª–æ—Ç–∞–º–∏
- **`RecordSlot`** - —Å–ª–æ—Ç –¥–ª—è –∑–∞–ø–∏—Å–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **`PageManager`** - –º–µ–Ω–µ–¥–∂–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–±–æ–¥–Ω—ã–º –º–µ—Å—Ç–æ–º
- ‚úÖ –°–ª–æ—Ç—ã –¥–ª—è –∑–∞–ø–∏—Å–µ–π
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∑–∞–ø–∏—Å—è–º–∏
- ‚úÖ –ö–∞—Ä—Ç–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- ‚úÖ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```rust
use rustbd::storage::page::{Page, PageType, PageManager};

// –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
let mut page = Page::new(1, PageType::Data);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
let record_data = b"Hello, World!";
let offset = page.add_record(record_data, 1)?;

// –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
let retrieved = page.get_record(1).unwrap();

// –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
page.delete_record(1)?;
```

### 2. –ë–ª–æ–∫–∏ (Block)

**–§–∞–π–ª:** `src/storage/block.rs`

–ë–ª–æ–∫ - —ç—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏.

#### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- **`BlockHeader`** - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –±–ª–æ–∫–∞
- **`Block`** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–ª–æ–∫–∞ —Å —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏
- **`BlockLinks`** - —Å–≤—è–∑–∏ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
- **`BlockManager`** - –º–µ–Ω–µ–¥–∂–µ—Ä –±–ª–æ–∫–æ–≤

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –≤ –±–ª–æ–∫–µ
- ‚úÖ –°–≤—è–∑–∏ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∞
- ‚úÖ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```rust
use rustbd::storage::block::{Block, BlockType, BlockManager};

// –°–æ–∑–¥–∞–Ω–∏–µ –±–ª–æ–∫–∞
let mut block = Block::new(1, BlockType::Data, 1024);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
let page_data = vec![1, 2, 3, 4, 5];
block.add_page(1, page_data)?;

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–≤—è–∑–µ–π
block.links.set_next(2);
block.links.set_prev(0);
```

### 3. –ú–µ–Ω–µ–¥–∂–µ—Ä –±—É—Ñ–µ—Ä–æ–≤ (Buffer Manager)

**–§–∞–π–ª:** `src/core/buffer.rs`

–ú–µ–Ω–µ–¥–∂–µ—Ä –±—É—Ñ–µ—Ä–æ–≤ —Ä–µ–∞–ª–∏–∑—É–µ—Ç LRU –∫—ç—à —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è.

#### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- **`BufferManager`** - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä –±—É—Ñ–µ—Ä–æ–≤
- **`BufferStats`** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **`EvictionStrategy`** - —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è
- **`LRUEntry`** - —ç–ª–µ–º–µ–Ω—Ç LRU –∫—ç—à–∞

#### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è:

- **LRU** - Least Recently Used
- **Clock** - Clock –∞–ª–≥–æ—Ä–∏—Ç–º
- **Adaptive** - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ LRU –∫—ç—à —Å—Ç—Ä–∞–Ω–∏—Ü
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ hit/miss ratio
- ‚úÖ –§–∏–∫—Å–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –≤ –ø–∞–º—è—Ç–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ "–≥—Ä—è–∑–Ω—ã–º–∏" —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```rust
use rustbd::core::buffer::{BufferManager, EvictionStrategy};

// –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –±—É—Ñ–µ—Ä–æ–≤
let mut buffer_manager = BufferManager::new(100, EvictionStrategy::LRU);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
let page = Page::new(1, PageType::Data);
buffer_manager.add_page(page)?;

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
let page_ref = buffer_manager.get_page(1);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
let stats = buffer_manager.get_stats();
println!("Hit ratio: {:.2}", stats.hit_ratio());
```

### 4. –ö–æ—Ä—Ç–µ–∂–∏ –∏ —Å—Ö–µ–º—ã (Tuple & Schema)

**–§–∞–π–ª:** `src/storage/tuple.rs`

–ö–æ—Ä—Ç–µ–∂–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å—Ç—Ä–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö, —Å—Ö–µ–º—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–∞–±–ª–∏—Ü.

#### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- **`Tuple`** - –∫–æ—Ä—Ç–µ–∂ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º (MVCC)
- **`Schema`** - —Å—Ö–µ–º–∞ —Ç–∞–±–ª–∏—Ü—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- **`Constraint`** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã
- **`Trigger`** - —Ç—Ä–∏–≥–≥–µ—Ä—ã —Ç–∞–±–ª–∏—Ü—ã
- **`TableOptions`** - –æ–ø—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä—Ç–µ–∂–µ–π (MVCC)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å—Ö–µ–º–µ
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã
- ‚úÖ –ì–∏–±–∫–∏–µ –æ–ø—Ü–∏–∏ —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```rust
use rustbd::storage::tuple::{Tuple, Schema, Column, DataType};

// –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã
let mut schema = Schema::new("users".to_string())
    .add_column(Column::new("id".to_string(), DataType::Integer(0)).not_null())
    .add_column(Column::new("name".to_string(), DataType::Varchar("".to_string())))
    .primary_key(vec!["id".to_string()]);

// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä—Ç–µ–∂–∞
let mut tuple = Tuple::new(1);
tuple.set_value("id", ColumnValue::new(DataType::Integer(1)));
tuple.set_value("name", ColumnValue::new(DataType::Varchar("John".to_string())));

// –í–∞–ª–∏–¥–∞—Ü–∏—è
schema.validate_tuple(&tuple)?;
```

### 5. –°—Ç—Ä–æ–∫–∏ –∏ —Ç–∞–±–ª–∏—Ü—ã (Row & Table)

**–§–∞–π–ª:** `src/storage/row.rs`

–°—Ç—Ä–æ–∫–∏ –∏ —Ç–∞–±–ª–∏—Ü—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö.

#### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- **`Row`** - —Å—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **`Table`** - —Ç–∞–±–ª–∏—Ü–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- **`TableMetadata`** - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **`TableStats`** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–∞–±–ª–∏—Ü—ã

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ —Å—Ç—Ä–æ–∫
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –°–≤—è–∑–∏ —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```rust
use rustbd::storage::row::{Row, Table};

// –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
let schema = Schema::new("products".to_string());
let mut table = Table::new("products".to_string(), schema);

// –°–æ–∑–¥–∞–Ω–∏–µ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
let tuple = Tuple::new(1);
let row = Row::new(1, tuple);
table.insert_row(row)?;

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
let mut new_values = HashMap::new();
new_values.insert("price".to_string(), ColumnValue::new(DataType::Double(99.99)));
table.update_row(1, new_values)?;

// –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏
table.delete_row(1)?;
```

### 6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π (Schema Manager)

**–§–∞–π–ª:** `src/storage/schema_manager.rs`

–ú–µ–Ω–µ–¥–∂–µ—Ä —Å—Ö–µ–º –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç ALTER TABLE –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π.

#### –ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

- **`SchemaManager`** - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ–Ω–µ–¥–∂–µ—Ä —Å—Ö–µ–º
- **`SchemaOperation`** - –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã
- **`SchemaValidator`** - –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —Å—Ö–µ–º
- **`SchemaChange`** - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

- ‚úÖ ADD COLUMN
- ‚úÖ DROP COLUMN
- ‚úÖ MODIFY COLUMN
- ‚úÖ RENAME COLUMN
- ‚úÖ ADD/DROP CONSTRAINT
- ‚úÖ ADD/DROP INDEX
- ‚úÖ MODIFY PRIMARY KEY
- ‚úÖ MODIFY TABLE OPTIONS

#### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –û—Ç–∫–∞—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ü–ª–∞–≥–∏–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤

#### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```rust
use rustbd::storage::schema_manager::{SchemaManager, SchemaOperation, BasicSchemaValidator};

// –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Å—Ö–µ–º
let mut schema_manager = SchemaManager::new();

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
let validator = Box::new(BasicSchemaValidator);
schema_manager.register_validator(validator);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏
let new_column = Column::new("age".to_string(), DataType::Integer(0));
let operation = SchemaOperation::AddColumn {
    column: new_column,
    after: None,
};

schema_manager.alter_table("users", operation)?;
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∫–ª—é—á–∞—é—Ç –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã:

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
cargo test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–æ–¥—É–ª—è
cargo test storage::page
cargo test core::buffer
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ü–æ–ª–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `examples/basic_structures.rs`:

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–æ–≤
cargo run --example basic_structures
```

## üîç –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ú–µ–Ω–µ–¥–∂–µ—Ä –±—É—Ñ–µ—Ä–æ–≤

- **LRU —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**: O(1) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞, O(1) –¥–ª—è –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è
- **Clock —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**: O(n) –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ –¥–ª—è –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –º–µ–∂–¥—É LRU –∏ Clock

### –°—Ç—Ä–∞–Ω–∏—Ü—ã

- **–ü–æ–∏—Å–∫ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞**: O(n) –≥–¥–µ n - —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏**: O(1) –ø–æ—Å–ª–µ –ø–æ–∏—Å–∫–∞ –º–µ—Å—Ç–∞
- **–£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏**: O(1) –ø–æ ID

### –¢–∞–±–ª–∏—Ü—ã

- **–ü–æ–∏—Å–∫ —Å—Ç—Ä–æ–∫–∏**: O(1) –ø–æ ID
- **–í—Å—Ç–∞–≤–∫–∞ —Å—Ç—Ä–æ–∫–∏**: O(1) + –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º—ã
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏**: O(1) + —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

## üöÄ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (1-2 –º–µ—Å—è—Ü–∞)

- [ ] –ü–æ–ª–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü –∏ –±–ª–æ–∫–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤—ã—Ç–µ—Å–Ω–µ–Ω–∏—è –¥–ª—è –±—É—Ñ–µ—Ä–∞

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (3-6 –º–µ—Å—è—Ü–µ–≤)

- [ ] –°–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (6+ –º–µ—Å—è—Ü–µ–≤)

- [ ] –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –±—É—Ñ–µ—Ä–∞
- [ ] –ì–∏–±—Ä–∏–¥–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ RustBD](ARCHITECTURE.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ](DEVELOPMENT.md)
- [–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è](CODING_STANDARDS.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é](TESTING_GUIDE.md)

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –±–∞–∑–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö:

1. –ò–∑—É—á–∏—Ç–µ [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤–∫–ª–∞–¥—É](CONTRIBUTING.md)
2. –°–ª–µ–¥—É–π—Ç–µ [—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è](CODING_STANDARDS.md)
3. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
4. –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π.
